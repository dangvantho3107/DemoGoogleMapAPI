<!DOCTYPE html>
<html>
    <head>
        <title>demoGoogleMapAPI</title>
        <style>
            #map {
            height: 100%;
        }

        html,
        body {
            height: 100%;
            margin: 0;
            padding: 0;
        }

        </style>
        <script>
            function initMap() {

                const myHouselocation = { lat:10.844477837054736, lng: 106.79921625437137};
                const UTC2location = { lat: 10.8458086, lng: 106.7945445};

                const myAvatar = 'https://scontent.fsgn4-1.fna.fbcdn.net/v/t1.0-9/146403191_2792673437646989_9143005651126894627_o.jpg?_nc_cat=103&ccb=1-3&_nc_sid=09cbfe&_nc_ohc=W28nvGtGAzYAX9yOx78&_nc_ht=scontent.fsgn4-1.fna&oh=0c70c239f6599e705dd7ae13b3632fbf&oe=607F219F';
                const UTC2icon = 'https://cdn.discordapp.com/attachments/685082279873085462/823170105617285140/iconutc2.png'
                
                const directionsService = new google.maps.DirectionsService();
                const directionsRenderer = new google.maps.DirectionsRenderer();
                const map = new google.maps.Map(document.getElementById("map"), {
                    zoom: 20,
                    center: {lat: 10.8514746,lng: 106.766426},
                });

                const myInfo = '<b>Họ tên</b>:Đặng Văn Thọ<br>' 
                    + '<b>MSSV</b>: 5951071103<br>' 
                    + '<b>Lớp</b>: CQ.K59 CNTT<br>' 
                    + '<b>Ngày sinh</b>: 31/07/2000<br>' 
                    + '<b>Quê quán</b>: Đak Lak<br>' 
                    + '<b>Email</b>: dangvantho3107@gmail.com<br>';

                

                const myHouseMarker = new google.maps.Marker({
                    position: myHouselocation,
                    map,
                    title: 'My House',
                    icon: {
                        url: myAvatar,
                        scaledSize: new google.maps.Size(50, 50)
                    }
                });

                const myInfoWindow = new google.maps.InfoWindow({
                    content: myInfo,
                    position: myHouseMarker.getPosition()
                });

                myHouseMarker.addListener('click', () => {
                    myInfoWindow.open(map, myHouseMarker);
                });
                
                const UTC2info = '<b>Tên</b>: Trường Đại học Giao Thông Vận Tải Phân hiệu tại Thành Phố Hồ Chí Minh<br>' 
                    + '<b>Địa chỉ</b>: 450 Lê Văn Việt, Tăng Nhơn Phú A, Quận 9, Thành Phố Hồ Chí Mình';

                const UTC2Marker = new google.maps.Marker({
                    position: UTC2location,
                    map,
                    title: 'UTC2',
                    icon: {
                        url: UTC2icon,
                        scaledSize: new google.maps.Size(50, 50),
                    }
                })
                
                const UTC2infoWndow = new google.maps.InfoWindow({
                    content: UTC2info,
                    position: UTC2Marker.getPosition()
                });

                UTC2Marker.addListener('click', () => {
                    UTC2infoWndow.open(map, UTC2Marker);
                });

                directionsRenderer.setMap(map);
                directionsService.route(
                {
                    origin: myHouseMarker.getPosition() , 
                    destination:  UTC2Marker.getPosition(),
                    travelMode: google.maps.TravelMode.DRIVING
                },
                (response, status)=>{
                if (status === "OK") {
                    directionsRenderer.setDirections(response);
                } else {
                    window.alert("Direction request failed due to " + status);
                }
                }
            );
            }
            
            
        </script>
        <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
        <!-- jsFiddle will insert css and js -->
    </head>
    <body>
        <div id="map"></div>
        <!-- Async script executes immediately and must be after any DOM elements used in callback. -->
    <script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBIwzALxUPNbatRBj3Xi1Uhp0fFzwWNBkE&callback=initMap&libraries=&v=weekly"
        async></script>
    </body>
</html>